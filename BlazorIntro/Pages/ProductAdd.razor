
@page "/productadd"
@using BlazorIntro.Models
<h3>ProductAdd</h3>


<EditForm Model="@productAddModel" OnValidSubmit="@HandleSave">

    @*validationları devreye sokar. Modelin üstündeki DataAnnotations'ları (attributesleri) devreye sokar.*@
    <DataAnnotationsValidator></DataAnnotationsValidator>

    @*Hataları kullanıcıya göster.*@
    @*<ValidationSummary></ValidationSummary>*@
    <div class="form-group">
        <h4>Ürün Adı</h4>
        <InputText Placeholder="Ürün Adı" Class="form-control" Id="productName" @bind-Value="@productAddModel.ProductName"></InputText>
        <ValidationMessage For="@(()=>productAddModel.ProductName)"></ValidationMessage>
    </div>

    <div class="form-group">
        <h4>Ürün Açıklaması</h4>
        <InputTextArea Placeholder="Ürün Açıklaması" Class="form-control" id="description" @bind-Value="@productAddModel.Description"></InputTextArea>
        <ValidationMessage For="@(()=>productAddModel.Description)"></ValidationMessage>
    </div>

    <div class="form-group">
        <h4>Kategori</h4>
        <InputSelect Class="form-control" id="categoryId" @bind-Value="@productAddModel.CategoryId">

            <option value="1">İçecek</option>
            <option value="2">Yiyecek</option>
        </InputSelect>
        <ValidationMessage For="@(()=>productAddModel.CategoryId)"></ValidationMessage>
    </div>
    <button class="btn btn-primary mt-3" type="submit">Kaydet</button>

</EditForm>


@code {
    ProductAddModel productAddModel = new ProductAddModel();

    //veritabanı işlemleri
    private void HandleSave()
    {
        Console.WriteLine("Ürün eklendi.");
    }

}
